\section{Related Work}
\label{sec:RelatedWork}

This section introduces the characteristics of various cartogram styles, describes relevant applications of cartograms, and provides a brief overview of some real-world implementations of cartogram-based visualizations.

\bobgraph{Definitions: }While we focus on rectangular cartogram variants, we start with brief definitions of contiguous and non-contiguous cartograms: Contiguous cartograms preserve topology, maintain connectivity with their adjacent neighbors, but are also subject to distortion in shape. Non-contiguous cartograms sacrifice topological connectivity with neighbors to enable expansion or reduction in size while maintaining their polygonal shape \cite{dent2009Cartography}.

\citet{nusrat2016State} define and summarize three major accuracy dimensions for cartograms: statistical, geographical, and topological. Each cartogram design may make various types of accuracy trade-offs between dimensions. We provide a comparison of these trade-offs as introduced by \citet{nusrat2016State} in \Cref{table:accuracy}. In addition, we include the Demers as it is the focus of our work.

{
\renewcommand{\arraystretch}{1.5}
\begin{table*}[!tb]
	\centering
	\resizebox{\textwidth}{!}{
		\begin{tabulary}{\textwidth}{|*{4}{l|}r|c|}
			\hhline{~|*{4}{-}|~}
			\multicolumn{1}{c|}{\textbf{Literature}} &
			\textbf{Title} &
			\textbf{Cartogram Type(s)} &
			\textbf{Geographic Region(s)} &
			\textbf{Number of Nodes} &
			\multicolumn{1}{c}{\textbf{Year}} \\
			\hline

			% \citet{auber2007Geographical} & \citep{auber2007Geographical} & US & 19 & 2007 \\
			% \hline
			\citet{warf2008Geography} & \citep{warf2008Geography} & Dorling & US & 3,142 & \citeyear{warf2008Geography} \\
			\hline
			\citet{sun2010Effectiveness} & \citep{sun2010Effectiveness} & Dorling, Mosaic, Neighbor-preserving & US, China & 34 - 49 & \citeyear{sun2010Effectiveness} \\
			\hline
			\citet{cruz2017Adapted} & \citep{cruz2017Adapted} & Dorling, Non-contiguous, Neighbor-preserving & Portugal & 2,882 & \citeyear{cruz2017Adapted} \\
			\hline
			\citet{tong2018Cartograms} & \citep{tong2018Cartograms} & Demers & England & 209 & \citeyear{tong2018Cartograms} \\
			\hline
			\citet{gao2020Visualising} & \citep{gao2020Visualising} & Dorling & China & 34 & \citeyear{gao2020Visualising} \\
			\hline
			\citet{nusrat2020Recognition} & \citep{nusrat2020Recognition} & Contiguous, Dorling & Portugal & 49 & \citeyear{nusrat2020Recognition} \\
			\hline
			\citet{nickel2022Multicriteria} & \citep{nickel2022Multicriteria} & Contiguous, Demers & US, Netherlands, World & 49 - 342 & \citeyear{nickel2022Multicriteria} \\
			\hline

			% \multicolumn{1}{c|}{\textbf{Total unique papers: 51}} & 24&15&12& \multicolumn{1}{c}{}  \\
			% \hhline{~|*{3}{-}|~}

		\end{tabulary}
	}
	\caption{Related work with non-contiguous cartogram-based visualizations. \textbf{Cartogram type} is the type of cartogram used. \textbf{Geographic region} is the geographic region depicted by the cartogram. \textbf{Number of nodes} is the number of nodes depicted in the cartogram. }
	\label{table:region vs node}
\end{table*}
}

\thumbnail{dorling}{
	Dorling cartograms as a variant of non-contiguous cartogram generally do not preserve geography and topology.
	A Dorling cartogram is statistically accurate, regions are represented by circles and the data dimensions of interest are represented by the circle size \cite{dorling2011Area}.
	In a Demers cartogram, a variant of Dorling, squares are used instead to capture a certain level of topology, as described by \citet{cano2015Mosaic} in their related work section.
	Dorling cartograms are unable to maintain topological accuracy as circles are often repositioned to remove overlap. Here we focus on Demers cartograms as we use squares to depict regions.
	This style of cartogram offers the advantages that the comparisons between regions are intuitive and screen space utilization is more efficient.
	This is important in our use case scenario involving EHRs.
	Demers cartograms, where regions are represented by squares, often have the advantage of preserving a higher level of topology at the cost of geographical accuracy \cite{ian2002Cartogram}. 
}

\thumbnail{rectangular}{
	Rectangular cartograms are contiguous and do not preserve geographical accuracy \cite{raisz1934Rectangular, vankreveld2004Rectangular}. Depending on the variant, a rectangular cartogram may trade-off between statistical and topological accuracy.
}

\thumbnail{mosaic}{
	Mosaic cartograms usually use square or hexagonal tiles to depict regions, and are contiguous and sacrifice statistical accuracy to preserve some level of geographical accuracy \cite{cano2015Mosaic}. Some variants are able to preserve topological accuracy as well.
}

{
\renewcommand{\arraystretch}{1.5}
\begin{table}[!tb]
	\centering
	\resizebox{\columnwidth}{!}{
		\begin{tabulary}{\columnwidth}{|*{5}{l|}}
			\hhline{~|*{3}{-}|~}
			\multicolumn{1}{c|}{} & \multicolumn{3}{c|}{\cellcolor{Mycolor2} \textbf{Accuracy}} \\
			\hhline{~|*{4}{-}}
			\multicolumn{1}{c|}{\textbf{Cartogram Variant}} &
			\textbf{Statistical} &
			\textbf{Geographical} &
			\textbf{Topological} &
			\textbf{Contiguity} \\
			\hline
			Contiguous & \cellcolor{Mycolor3}Variable & \cellcolor{Mycolor3}Variable & Accurate & Yes \\
			\hline
			Non-contiguous & \cellcolor{Mycolor5}\textcolor{white}{Accurate} & \cellcolor{Mycolor5}\textcolor{white}{Shape is accurate} &\cellcolor{Mycolor6}Inaccurate & No   \\
			\hline
			Rectangular & \cellcolor{Mycolor3}Variable & Shape is inaccurate & \cellcolor{Mycolor3}Variable & Yes   \\
			\hline
			Dorling & Accurate & \cellcolor{Mycolor6}Inaccurate & \cellcolor{Mycolor3}Variable & No  \\
			\hline
			Demers & Accurate & \cellcolor{Mycolor6}Inaccurate & \cellcolor{Mycolor3}Variable & No  \\
			\hline
		\end{tabulary}
	}
	\caption{\coloredsquare[Mycolor3]{0.25cm}{0.25cm} Trade-off between dimensions. \coloredsquare[Mycolor6]{0.25cm}{0.25cm} Dimension sacrificed in order to improve \coloredsquare[Mycolor5]{0.25cm}{0.25cm} target dimension's accuracy.}
	\label{table:accuracy}
\end{table}
}

\bobgraph{Peer-reviewed Applications: }\citet{warf2008Geography} use a Dorling cartogram to represent religious diversity in the US. \citet{sun2010Effectiveness} depict 1996 US election data and 2005 Chinese population data using Dorling, Mosaic, and contiguous cartograms. \citet{gao2020Visualising} present a Dorling cartogram to illustrate COVID-19 infections in China. \citet{tong2018Cartograms} use a Demers cartogram to visualize health-related data by Clinical Commissioning Group (CCG) regions in England, the work introduces a novel technique to remove the overlap of squares based on topological features, aiming to improve both geographical and topological accuracy. \citet{nusrat2020Recognition} investigate the memorability of contiguous and Dorling cartograms using multiple data sets that include demographic, agriculture, and retail data in the US. See \Cref{table:region vs node} for a list of literature that adopts cartograms for visualization with corresponding geographical regions and node counts.

Our work extends the algorithm described by \citet{tong2018Cartograms} which incorporates a static topological feature into Demers cartograms. Our work enhances that of \citet{tong2018Cartograms} in multiple ways. First, we introduce multiple features (rivers) into the layout, as opposed to a single river. Second, we make topological features dynamic and further improve legibility and geographical accuracy. By the term \textit{dynamic}, we mean that the position of the rivers is updated as part of the layout algorithm. In previous work, the river is static and serves merely as a boundary. Third, we improve the algorithm to resolve stalemates. Finally, the way we evaluate the cartograms is also different. \citet{tong2018Cartograms} count river crossings to evaluate error (a statistical metric). Here our focus is on readability, and thus we include a user study.

\bobgraph{Cartograms in Media: }Cartograms are a popular choice of representation in covering various topics by the media, with the goal of presenting an unbiased and complete picture of the news. The Washington Post uses cartograms to visualize the US overseas economic assistance, in arm sales (Mosaic) \cite{bearak2016Everything}, the 2016 US Election (contiguous) \cite{gamio2016Election}, and the Brexit Referendum (Mosaic) \cite{taylor2016What}. National Geographic uses contiguous and Mosaic cartograms to analyze the 2016 US Election results \cite{miller2016Election}, the same topic is also covered by the Financial Times with a Dorling cartogram \cite{stabe2016Search}. \citet{cruz2017Adapted} adapts a Dorling cartogram with both contiguous and non-contiguous cartograms to represent the gender pay gap in Portugal. \citet{sandberg2018Cartogram} reports the 2018 US midterm Election with a Mosaic cartogram, the same approach is used to cover the 2020 US Election by the New York Times \cite{thelearningnetwork2020What} and Bloomberg \cite{mccartney20202020}.

One of the disadvantages of Dorling and Demers cartograms is legibility. The layout algorithms may displace regions far from their original position and make the maps more difficult to interpret. \citet{nickel2022Multicriteria} present a method to compute stable Demers cartograms with multiple constraints to maintain adjacencies with no overlapping nodes.

In this paper, we introduce a new type of topological feature, a river, as a constraint to compute the final layout, with the aim of improving the interpretation, readability, and accuracy of this class of cartograms.